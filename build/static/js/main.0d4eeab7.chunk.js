(this["webpackJsonpsam-motors"]=this["webpackJsonpsam-motors"]||[]).push([[2],{26:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(14),a=n(27),c=n.n(a),i=n(0),o=n(17),u=n(29),s=n(3),l=(n(71),n(81)),d=n.p+"static/media/loadingSpinner.8997e53c.svg",b=n(4),j=function(){return Object(b.jsx)("section",{className:"vh-100 vw-100 d-flex justify-content-center align-items-center",children:Object(b.jsx)(l.a,{src:d})})},h=n(30),f=n(18),m=n(33),p=["children"],O=function(e){var t=e.children,n=Object(m.a)(e,p),r=Object(i.useContext)(I).loggedInUser.isSignedIn;return Object(b.jsx)(s.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(b.jsx)(s.a,{to:{pathname:"/login",state:{from:n}}})}}))},g=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(9)]).then(n.bind(null,201))})),v=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(7)]).then(n.bind(null,199))})),x=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(10)]).then(n.bind(null,206))})),I=Object(i.createContext)();t.b=function(){var e=Object(i.useState)(Object(h.b)()),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(i.useState)([]),d=Object(r.a)(l,2),f=d[0],m=d[1],p=Object(i.useState)(!0),S=Object(r.a)(p,2),k=S[0],y=S[1],P=Object(i.useState)(!1),w=Object(r.a)(P,2),z=w[0],U=w[1];return Object(i.useEffect)((function(){c.a.get("https://peaceful-lake-83415.herokuapp.com/isAdmin?email=".concat(null===n||void 0===n?void 0:n.email)).then((function(e){U(e.data),y(!1)})).catch((function(e){return o.b.error(e.message)}))}),[null===n||void 0===n?void 0:n.email]),Object(b.jsx)(I.Provider,{value:{loggedInUser:n,setLoggedInUser:a,isAdmin:z,selectedService:f,setSelectedService:m},children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(o.a,{}),Object(b.jsx)(i.Suspense,{fallback:Object(b.jsx)(j,{}),children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/",children:Object(b.jsx)(g,{})}),Object(b.jsx)(O,{path:"/dashboard/:panel",children:Object(b.jsx)(v,{adminLoading:k})}),Object(b.jsx)(s.b,{path:"/login",children:Object(b.jsx)(x,{})})]})})]})})}},30:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return h}));var r=n(12),a=(n(75),n(44)),c={apiKey:"AIzaSyBWy4IhuYbHCy8eVf4D8DQGszlYUbu7yHo",authDomain:"sam-motors.firebaseapp.com",projectId:"sam-motors",storageBucket:"sam-motors.appspot.com",messagingSenderId:"123136569344",appId:"1:123136569344:web:cb2fde0ac259b78082a8e5"},i=function(){!r.a.apps.length&&r.a.initializeApp(c)},o=function(){var e=new r.a.auth.GoogleAuthProvider;return r.a.auth().signInWithPopup(e).then((function(e){return d(e)}))},u=function(e,t,n){return r.a.auth().createUserWithEmailAndPassword(t,n).then((function(t){return s(e),d(t)}))},s=function(e){r.a.auth().currentUser.updateProfile({displayName:e})},l=function(e,t){return r.a.auth().signInWithEmailAndPassword(e,t).then((function(e){return d(e)}))},d=function(e){var t=e.user,n=t.displayName,r=t.photoURL;return{isSignedIn:!0,name:n,email:t.email,photo:r||"https://i.ibb.co/5GzXkwq/user.png"}},b=function(){return r.a.auth().currentUser.getIdToken(!0).then((function(e){localStorage.setItem("token",e)}))},j=function(){var e=localStorage.getItem("token");if(!e)return{};var t=Object(a.a)(e),n=t.name,r=t.picture;return{isSignedIn:!0,name:n,email:t.email,photo:r||"https://i.ibb.co/5GzXkwq/user.png"}},h=function(){return r.a.auth().signOut().then((function(){localStorage.removeItem("token");return{isSignedIn:!1,userName:"",email:"",userPhoto:""}})).catch((function(e){return console.log(e.message)}))}},47:function(e,t,n){"use strict";n.r(t);n(48);var r=n(0),a=n.n(r),c=n(28),i=n.n(c),o=n(26),u=(n(79),n(4));i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(o.b,{})}),document.getElementById("root"))},71:function(e,t,n){},79:function(e,t,n){}},[[47,3,4]]]);
//# sourceMappingURL=main.0d4eeab7.chunk.js.map